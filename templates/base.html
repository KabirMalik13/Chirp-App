<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chirp - {% block title %}{% endblock %}</title> 
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> 
    
    {% block head_extra %}{% endblock %} 
</head>
<body>
    <div class="app-container">
        
        <aside class="sidebar">
            <i class="fa-solid fa-feather-pointed logo-icon"></i>
            
            {% block sidebar_nav %}
            <a href="{{ url_for('timeline') }}" class="nav-item {% if active_page == 'timeline' %}active{% endif %}">
                <i class="fa-solid fa-house"></i>Home
            </a>
            
            <a href="{{ url_for('search_page') }}" class="nav-item {% if active_page == 'search' %}active{% endif %}">
                <i class="fa-solid fa-magnifying-glass"></i>Search
            </a>
            
            <a href="{{ url_for('bookmarks_page') }}" class="nav-item {% if active_page == 'bookmarks' %}active{% endif %}">
                <i class="fa-solid fa-bookmark"></i>Bookmarks
            </a>
            
            <a href="{{ url_for('notifications') }}" class="nav-item {% if active_page == 'notifications' %}active{% endif %}">
                <i class="fa-regular fa-bell"></i>Notifications
            </a>
            
            <a href="{{ url_for('messages') }}" class="nav-item {% if active_page == 'messages' %}active{% endif %}">
                <i class="fa-regular fa-envelope"></i>Messages
            </a>
            
            <a href="{{ url_for('profile', username=current_user.username) }}" class="nav-item {% if active_page == 'profile' %}active{% endif %}">
                <i class="fa-solid fa-user"></i>Profile
            </a>
            
            <button class="primary-button" id="chirp-modal-btn" style="margin-top: 20px;">Chirp</button>
            <a href="{{ url_for('logout') }}" class="nav-item">
                <i class="fa-solid fa-arrow-right-from-bracket"></i>Logout
            </a>
            {% endblock %}
        </aside>

        <main class="timeline {% if active_page == 'messages' %}main-content-full{% endif %}">
             {% block content %}{% endblock %}
        </main>

        {% if active_page != 'messages' %}
            <aside class="right-sidebar"></aside>
        {% endif %}
    </div>

    <div id="chirp-modal" class="modal">
        <div class="modal-content chirp-modal-content">
            <span class="close">&times;</span>
            <h3>Create Chirp</h3>
            
            <form id="chirp-modal-form">
                <textarea id="chirp-modal-input" placeholder="What's happening?" required></textarea>
                <div class="chirp-modal-actions">
                    <button type="submit" class="primary-button">Chirp</button>
                </div>
            </form>
        </div>
    </div>

    <script src="{{ url_for('static', filename='app.js') }}"></script>
    
    {% block body_extra %}{% endblock %}
</body>
</html>